---
title: SQLD - 데이터 모델링의 이해2
author: BambooStreet
date: 2024-08-10 00:00:00 +0800
categories: [study,SQL]
tags: [SQL, SQLD, 데이터모델링, ERD, 엔티티]
image: assets/img/posts/20240810/ERD.png
---

## 엔티티

**엔티티(Entity)**는 실제 세계에서 독립적으로 존재하는 객체나 개념을 뜻하며, 데이터베이스에 저장할 가치가 있는 중요 데이터를 가진 사람, 장소, 물건, 사건 등을 의미한다.

특징으로, 유일한 식별자를 가지며, 한 개 이상의 속성을 가진다. 엔티티는 다른 엔티티와 관계를 가질 수 있다.

ERD(Entity-Relationship Diagram)에서 보통 사각형으로 표현되며, 엔티티 이름은 단수형, 대문자로 작성된다.

엔티티를 명명하는 기준은 다음과 같다.
1. 현업 업무에서 사용하는 용어를 사용한다.
2. 가능하면 약어를 사용하지 않는다.
3. 단수명사를 사용한다.
4. 모든 엔티티를 통틀어 유일하게 이름이 부여되어야 한다.



### ERD 작성 순서
> 1. 엔티티를 그린다.
> 2. 엔티티를 적절하게 배치한다.
> 3. 엔티티 간 관계를 설정한다.
> 4. 관계명을 기술한다.
> 5. 관계의 참여도를 기술한다.
> 6. 관계의 필수여부를 기술한다.

일반적인 가이드라인이지만, 프로젝트의 특성에 따라 순서나 단계가 조금 씩 달라질 수 있다.


### 엔티티의 특징
>* 반드시 해당 업무에서 필요하고 관리하고자 하는 정보여야 한다.(ex. 환자, 토익 응시 횟수)
>* 유일한 식별자에 의해 식별이 가능해야 한다.
>* 영속적으로 존재하는 인스턴스의 집합이어야 한다.
>* 엔티티는 업무 프로세스에 의해 이용되어야 한다.
>* 엔티티는 반드시 속성이 있어야 한다.
>* 엔티티는 다른 엔티티와 최소 한 개 이상의 관계가 있어야 한다.



### 발생 시점에 따른 엔티티 분류
> * 기본, 키 엔티티(Fundamental Entity, Key Entity)
> * 중심 엔티티(Main Entity)
> * 행위 엔티티(Active Entity)


## 엔티티 속성

**엔티티 속성(Entity Attribute)**은 엔티티가 가지는 고유한 특성이나 성질을 의미하며, 엔티티를 설명하거나 구체화하는 정보의 단위이다.

엔티티 속성은 반드시 하나의 값(원자값)만을 가져야 하며, 엔티티를 구성하는 모든 인스턴스에 공통적으로 적용된다.

예시로 '고객' 엔티티의 속성은 이름, 주소, 전화번호, 생년월일 등이 있을 수 있다.

속성을 선정하는 경우 다음의 기준을 따져야한다.
* 업무에 필요한 정보인가?
* 정규화 등의 데이터 모델링 규칙을 따르는가?
* 하나의 값만 가지는가?

중복되는 속성을 제거하고 적당한 양의 속성을 가지도록 해 엔티티의 복잡도를 낮춰야 한다.

### 엔티티, 인스턴스 속성, 속성값의 관계
> * 한 개의 엔티티는 두 개 이상의 인스턴스 집합이어야 한다.
> * 한 개의 엔티티는 두 개 이상의 속성을 갖는다.
> * 한 개의 속성은 한 개의 속성값을 가진다.


<br>

※인스턴스 vs 속성 vs 속성값 
* 인스턴스: 엔티티에 속하는 각각의 개별적인 객체나 사례, 모든 속성에 대한 속성값들의 집합
* 속성: 엔티티의 성질이나 특성을 기술하는 항목
* 속성값: 단일 속성에 대한 구체적인 값
* ex. 속성: 학번, 이름, 학과, 입학년도 / 인스턴스: 2023001, 홍길동, 컴퓨터공학과, 2023 


### 속성의 특성에 따른 분류
> * 기본 속성(Basic Attribute)
> * 설계 속성(Designed Attribute)
> * 파생 속성(Derived Attribute)

기본 속성은 업무로부터 직접 추출한 가장 기본적인 속성으로, 가장 일반적으로 중요한 속성 유형이다.

ex. 고객 엔티티의 '이름', '주소', '전화번호'

설계 속성은 업무상 필요한 데이터 외에 데이터 모델링 과정에서 추가적으로 생성되는 속성을 뜻하며, 주로 식별자나 관계 표현을 위해 추가된다.

ex. 고객번호, 주문번호, 일련번호 등 인조 식별자 / 외래 키 속성

파생 속성은 다른 속성으로부터 계산되거나 유도되는 속성으로 기존 속성을 이용해 계산되거나 조합되어 생성회며, 일반적으로 데이터의 중복을 줄이기 위해 실제 저장하지 않고 필요할 때 계산한다.

ex. 나이(생년월일에서 계산), 주문 총액(각 주문 항목의 가격 합계)

### 도메인
> 각 속성은 가질 수 있는 값의 범위가 있는데 이를 그 속성의 **도메인(domain)**이라 하며, 엔티티 내에서 속성에 대한 데이터 타입과 크기 그리고 제약사항을 지정한다.


### 속성의 명칭 부여
> * 해당 업무에서 사용하는 이름을 부여한다.
> * 서술식 속성명은 사용하지 않는다.
> * 약어 사용은 가급적 제한한다.
> * 전체 데이터 모델에서 유일성을 확보하는 것이 좋다.



## QA
1. 가장 중요한 엔티티를 오른쪽 상단에 배치하고 추가로 발생되는 엔티티들을 왼쪽 편과 하단에 배치하는 것이 원칙이다.(O/X)

    * 정답: X
    * 해설: ERD 작성에 있어 엔티티의 위치에 대한 절대적인 규칙은 없다. 가독성과 이해도를 높이기만 하면 된다. 일반적인 관행으로 가장 중요한 엔티티를 왼쪽 상단에 배치하고, 이것을 중심으로 다른 엔티티를 나열하면서 전개해야 사람의 눈이 따라가기에 편리한 데이터 모델을 작성할 수 있다. 또 관련된 엔티티는 서로 가까이 배치하며, 관계선이 가능한 한 곂치치 않도록 배치한다.



2. 아래 시나리오에서 엔티티로 가장 적절한 것은?
> 시나리오: \
> S병원은 여러 명의 환자가 존재하고 각 환자의 이름, 주소 등을
 관리해야 한다. (단, 엄무 범위와 데이터의 특성은 위 시나리오에 기술되어 있는 사항만을 근거하여 판단해야 한다.)

    * 정답: 환자
    * 해설: 병원은 1개, 이름 주소는 엔티티의 속성으로 인식된다. 엔티티는 2개 이상의 속성과 2개 이상의 인스턴스를 가져 소위 면적으로 표현될 수 있어야 비로소 기본적인 엔티티의 자격을 갖췄다고 할 수 있다.


3. 객체 지향의 디자인 패턴에는 싱글턴패턴이 있어 하나의 인스턴스를 가지는 클래스가 존재한다. 이와 유사하게 엔티티는 한 개의 인스턴스를 가지는 것만으로도 충분한 의미를 부여할 수 있다.(O/X)

    * 정답: X
    * 해설: 엔티티는 보통 여러 개의 인스턴스를 가지는 객체들의 집합을 나타낸다. 데이터베이스에서 엔티티는 보통 테이블로 구현되며, 테이블은 여러 행(인스턴스)을 포함한다. 다만, 드물게 단일 인스턴스만을 가지는 엔티티가 존재할 수는 있다. (회사 정보)


4. 직원 엔티티의 이름, 고객 엔티티의 이름과 같이 엔티티별로 동일한 속성명을 사용하여 데이터 모델의 일관성을 유지하는 것이 좋다.(O/X)

    * 정답: X
    * 해설: 각 엔티티의 속성명은 해당 엔티티의 특성을 명확이 반영해야 한다. 동일한 이름을 사용하면 혼란을 초래할 수 있다. 
    데이터 모델의 일관성은 명확하고 체계적인 명명 규칙을 통해 유지된다. 예를 들어 '직원 이름', '고객 이름'처럼 구분해서 사용하는 것이 명확하다. 


